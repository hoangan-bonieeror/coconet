<div class="container" >
    <div class="header">
        <header>Blog mới</header>
        <div class="tool-bar">
            <button class="admin-button-dark" pButton label="Xem trước" (click)="showPreview()"></button>
            <button class="admin-button-dark" pButton label="Lưu blog" (click)="saveBlog()"></button>
            <button class="admin-button-dark" pButton label="Quay về" (click)="backToMain()"></button>
        </div>
    </div>
    <div class="form blog-form" data-aos="fade-up" data-aos-duration="500" >
        <div class="form-content" style="align-items: baseline;" [formGroup]="blogForm">
            <label for="">Chủ đề</label>
            <!-- <input type="text" pInputText placeholder="Nhập chủ đề blog..."> -->
            <textarea rows="5" cols="30" pTextarea style="resize: none;" formControlName="title"></textarea>
            <label for="">Phân loại</label>
            <p-select [options]="categoryOptions" optionLabel="name" optionValue="id" placeholder="Chọn phân loại" formControlName="category" appendTo="body" />
            <label for="tags">Thẻ gán</label>
            <p-multiselect [options]="tagOptions" formControlName="tags" placeholder="Chọn thẻ..." optionLabel="name" display="chip" appendTo="body" optionValue="id" />
            <label style="grid-column: span 2;" for="">Nội dung bài blog</label>
            <div style="grid-column: span 2;">
                <p-editor 
                    formControlName="content" 
                    [style]="{ height: '500px' }"
                    (onTextChange)="onTextChange($event)"
                />
            </div>
        </div>
    </div>
</div>

<p-dialog [visible]="isPreview" header="Bản xem trước" [modal]="true" [style]="{ width: '80%' }" [maximizable]="true" maskStyleClass="backdrop-blur-sm" styleClass="!border-0 !bg-transparent">
    <ng-template #headless>
        <div class="flex" style="justify-content: space-between; margin: 20px; align-items: center;">
            <header style="font-size: 1.5em;"><b>Bản xem trước</b></header>
            <p-button icon="pi pi-times" [rounded]="true" [text]="true" (onClick)="hidePreview()" />
        </div>
        <div [innerHTML]="blogForm.controls['content'].value">
        </div>
    </ng-template>

</p-dialog>